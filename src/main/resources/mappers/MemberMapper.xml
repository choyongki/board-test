<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="study.board.mapper.MemberMapper">
    <select id="findByAccount" parameterType="string" resultType="MemberVO">
        SELECT
               id,
               account,
               email,
               password,
               nickname,
               member_name,
               member_role
                   created_date,
               modified_date,
               phone,
               use_yn
        FROM tb_member
        WHERE account=#{account}
    </select>
    <insert id="save" parameterType="MemberVO">
        INSERT INTO tb_member (
                               account,
                               email,
                               nickname,
                               member_name,
                               phone,
                               <if test="memberRole != null">member_role,</if>
                               password,
                               created_date,
                               modified_date,
                               deleted_date
        )
        VALUES (
                #{account},
                #{email},
                #{nickname},
                #{memberName},
                #{phone},
                <if test="memberRole != null">#{memberRole},</if>
                #{password},
                now(),
                now(),
                null
               )
    </insert>
</mapper>

